<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 17 Creating a city block map | The Walkability Wiki</title>
<meta name="author" content="Aman Bhargava">
<meta name="description" content="For some analyses, you might need data on blocks instead of street networks. This is needed for 9.1 and for other analysis you might explore, such as interface catchment analysis. If you’re lucky,...">
<meta name="generator" content="bookdown 0.33 with bs4_book()">
<meta property="og:title" content="Chapter 17 Creating a city block map | The Walkability Wiki">
<meta property="og:type" content="book">
<meta property="og:url" content="https://www.walkability.wiki/create-blocks.html">
<meta property="og:image" content="https://www.walkability.wiki/static/cover.png">
<meta property="og:description" content="For some analyses, you might need data on blocks instead of street networks. This is needed for 9.1 and for other analysis you might explore, such as interface catchment analysis. If you’re lucky,...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 17 Creating a city block map | The Walkability Wiki">
<meta name="twitter:description" content="For some analyses, you might need data on blocks instead of street networks. This is needed for 9.1 and for other analysis you might explore, such as interface catchment analysis. If you’re lucky,...">
<meta name="twitter:image" content="https://www.walkability.wiki/static/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap/bootstrap.bundle.min.js"></script><script src="libs/bs3compat/transition.js"></script><script src="libs/bs3compat/tabs.js"></script><script src="libs/bs3compat/bs3compat.js"></script><link href="libs/bs4_book/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="A guidebook for assessing walkability in india">The Walkability Wiki</a>:
        <small class="text-muted">A guidebook for assessing walkability in india</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome to The Walkability Wiki</a></li>
<li class="book-part">Getting Started</li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="pb.html"><span class="header-section-number">2</span> Project background</a></li>
<li><a class="" href="scope.html"><span class="header-section-number">3</span> Scope</a></li>
<li><a class="" href="recommended-softwares-and-tools.html"><span class="header-section-number">4</span> Recommended softwares and tools</a></li>
<li class="book-part">Overview of Methods</li>
<li><a class="" href="walkability.html"><span class="header-section-number">5</span> Walkability</a></li>
<li><a class="" href="types-of-analysis.html"><span class="header-section-number">6</span> Types of analysis</a></li>
<li><a class="" href="hybrid-assessments.html"><span class="header-section-number">7</span> Hybrid Assessments</a></li>
<li class="book-part">Quantitative Assessment Guides</li>
<li><a class="" href="site-assessment.html"><span class="header-section-number">8</span> Site assessment</a></li>
<li><a class="" href="physical-environment.html"><span class="header-section-number">9</span> Assessment of Physical Environment</a></li>
<li><a class="" href="assessment-of-infrastructure-accessibility.html"><span class="header-section-number">10</span> Assessment of Infrastructure Accessibility</a></li>
<li><a class="" href="assessment-of-comfort.html"><span class="header-section-number">11</span> Assessment of Comfort</a></li>
<li class="book-part">Qualitative Assessment Guides</li>
<li><a class="" href="field-visits.html"><span class="header-section-number">12</span> Field visits</a></li>
<li><a class="" href="interviews.html"><span class="header-section-number">13</span> Semi-structured interviews</a></li>
<li><a class="" href="street-audits.html"><span class="header-section-number">14</span> Street Audits</a></li>
<li class="book-part">Visualizing Results</li>
<li class="book-part">Conclusion</li>
<li><a class="" href="finishing-up.html"><span class="header-section-number">15</span> Finishing up</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="assessment-of-segregation.html"><span class="header-section-number">16</span> Assessment of Segregation</a></li>
<li><a class="active" href="create-blocks.html"><span class="header-section-number">17</span> Creating a city block map</a></li>
<li><a class="" href="ors-setup.html"><span class="header-section-number">18</span> Setting up OpenRouteService</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/thedivtagguy/walkability-wiki">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="create-blocks" class="section level1" number="17">
<h1>
<span class="header-section-number">17</span> Creating a city block map<a class="anchor" aria-label="anchor" href="#create-blocks"><i class="fas fa-link"></i></a>
</h1>
<p><img src="images/street.png" style="width:7cm" alt="Street network"><img src="images/blocks.png" style="width:7cm" alt="Areas enclosed by the streets form blocks"></p>
<p>For some analyses, you might need data on <strong>blocks</strong> instead of street networks. This is needed for <a href="physical-environment.html#block-sizes">9.1</a> and for other analysis you might explore, such as interface catchment analysis. If you’re lucky, you might have access to block data but in the event that you don’t, you can make something that is fairly accurate yourself.</p>
<p>This is fairly simple<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Credit to user `geozelot` for outlining this process in their brief comment on &lt;a href="https://gis.stackexchange.com/questions/445089/osm-get-residentials-blocks-i-e-polygons-enclosed-by-roads"&gt;this&lt;/a&gt; StackExchange question.&lt;/p&gt;'><sup>1</sup></a>. What you’re essentially doing is drawing polygons for the areas enclosed by the streets. Think of it like making cookies, you’re creating shapes by ‘cutting’ a flat layer with a cookie cutter (here, the roads).</p>
<p>First, open the <code>gis_osm_roads</code> layer in QGIS and then create a new shapefile layer called <code>boundary</code> by going to <code>Layer</code> &gt; <code>Create Layer</code> &gt; <code>New Shapefile Layer</code>. The default settings are good enough for this, save your layer to a new location and it will appear in your list of layers.</p>
<div class="inline-figure"><img src="images/buffer-9.png" style="width:14cm"></div>
<p>Go into edit mode and draw a rectangle that marks the extent of the area you want to analyze. Once saved, you should have two layers; the <code>boundary</code> on top of you <code>gis_osm_roads</code> layer like so:</p>
<div class="inline-figure"><img src="images/buffer-10.png" style="width:14cm"></div>
<p>Head over the <code>Processing Toolbox</code> and search for <code>Buffer</code> under <code>Vector</code> operations. In the dialog box, select your roads layer and set a <code>Buffer</code> value. All lines in the selected layer will be ‘widened’ by that much. I generally go with <strong>5 meters</strong>, since most streets are likely to be a little less or more than.</p>
<div class="inline-figure"><img src="images/buffer-1.png" style="width:10cm"></div>
<p>This should ‘inflate’ the lines in your roads layer. Go to the <code>Processing Toolbox</code> again and search for <code>Difference</code> and open it.</p>
<p>Now, <strong>the base layer (extent) goes in the <code>Input</code></strong> and the <strong>Buffered layer goes into <code>Overlay</code></strong>.</p>
<div class="inline-figure"><img src="images/buffer-2.png" style="width:14cm"></div>
<p>An easy way to remember this is you’re cutting <strong>base</strong> using <strong>the buffered layer</strong>. Run it and you should get a new <code>Difference</code> layer which looks something like the map in Figure <a href="#fig:difference">17.1</a>.</p>
<div class="float">
<img src="images/buffer-3.png" style="width:14cm" alt=""><div class="figcaption"></div>
</div>
<p>There you have it! You’ve just created your own map of blocks in the study region.</p>
<p>One thing you’ll notice if you try querying individual features of this layer, the entire layer will be selected, making it impossible to select individual blocks. You can fix this by going to <code>Processing Toolbox</code> and searching for <code>Multipart to Singlepart</code> and running it the current layer. The new layer contains individually selectable blocks. That’s it!</p>
<p>Remember to save these layers, they’re temporary for now.</p>

</div>

  <div class="chapter-nav">
<div class="prev"><a href="assessment-of-segregation.html"><span class="header-section-number">16</span> Assessment of Segregation</a></div>
<div class="next"><a href="ors-setup.html"><span class="header-section-number">18</span> Setting up OpenRouteService</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav"><li><a class="nav-link" href="#create-blocks"><span class="header-section-number">17</span> Creating a city block map</a></li></ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/thedivtagguy/walkability-wiki/blob/master/20-appendix-creating-blocks.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/thedivtagguy/walkability-wiki/edit/master/20-appendix-creating-blocks.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>The Walkability Wiki</strong>: A guidebook for assessing walkability in india" was written by Aman Bhargava. It was last built on 2023-05-08.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
